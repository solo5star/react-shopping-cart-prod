{"version":3,"file":"CartOrder.stories-56d49cb7.js","sources":["../../src/recoil/selectors/cartOrderPriceState.ts","../../src/components/CartOrder.tsx"],"sourcesContent":["import { selector } from 'recoil';\nimport cartItemsState from '../atoms/cartItemsState';\n\nconst cartOrderPriceState = selector({\n  key: 'cartOrderPriceState',\n  get: ({ get }) => {\n    const cartItems = get(cartItemsState);\n\n    const productsPrice = cartItems\n      .filter((cartItem) => !cartItem.unselectedForOrder)\n      .reduce((sum, cartItem) => sum + cartItem.quantity * cartItem.product.price, 0);\n    const shippingFee = productsPrice > 0 ? 3000 : 0;\n\n    const prices = {\n      products: productsPrice,\n      shippingFee,\n    };\n\n    return {\n      ...prices,\n      total: Object.values(prices).reduce((sum, current) => sum + current, 0),\n    };\n  },\n});\n\nexport default cartOrderPriceState;\n","import { useRecoilValue } from 'recoil';\nimport { styled } from 'styled-components';\nimport cartOrderPriceState from '../recoil/selectors/cartOrderPriceState';\n\nconst CartOrderContainer = styled.form`\n  min-width: 440px;\n  border: 1px solid #dddddd;\n`;\n\nconst Title = styled.h1`\n  padding: 20px 30px;\n\n  font-size: 24px;\n  font-weight: 400;\n`;\n\nconst Divider = styled.hr`\n  height: 3px;\n  background-color: #dddddd;\n`;\n\nconst Content = styled.section`\n  padding: 30px;\n`;\n\nconst ContentPlaceholder = styled.h2`\n  font-size: 16px;\n  text-align: center;\n  color: #444444;\n`;\n\nconst PriceField = styled.p`\n  display: flex;\n  margin-bottom: 20px;\n\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst PriceFieldName = styled.p``;\n\nconst PriceFieldValue = styled.p`\n  margin-left: auto;\n\n  &::after {\n    content: '원';\n  }\n`;\n\nconst ContentDivider = styled.hr`\n  height: 20px;\n  background: transparent;\n  border: none;\n`;\n\nconst OrderButton = styled.button.attrs({ type: 'submit' })`\n  padding: 24px;\n  width: 100%;\n\n  background-color: #333333;\n\n  font-size: 24px;\n  font-weight: 400;\n  color: white;\n`;\n\ntype CartOrderProps = {\n  isCartEmpty: boolean;\n};\n\nconst CartOrder = (props: CartOrderProps) => {\n  const { isCartEmpty } = props;\n  const prices = useRecoilValue(cartOrderPriceState);\n\n  return (\n    <CartOrderContainer>\n      <Title>결제예상금액</Title>\n      <Divider />\n\n      <Content>\n        {isCartEmpty ? (\n          <>\n            <ContentDivider />\n            <ContentPlaceholder>주문할 상품을 선택해주세요!</ContentPlaceholder>\n            <ContentDivider />\n          </>\n        ) : (\n          <>\n            <PriceField>\n              <PriceFieldName>총 상품가격</PriceFieldName>\n              <PriceFieldValue>{prices.products}</PriceFieldValue>\n            </PriceField>\n\n            <PriceField>\n              <PriceFieldName>총 배송비</PriceFieldName>\n              <PriceFieldValue>{prices.shippingFee}</PriceFieldValue>\n            </PriceField>\n\n            <ContentDivider />\n\n            <PriceField>\n              <PriceFieldName>총 주문금액</PriceFieldName>\n              <PriceFieldValue>{prices.total}</PriceFieldValue>\n            </PriceField>\n\n            <ContentDivider />\n\n            <OrderButton>주문하기</OrderButton>\n          </>\n        )}\n      </Content>\n    </CartOrderContainer>\n  );\n};\n\nexport default CartOrder;\n"],"names":["cartOrderPriceState","selector","get","productsPrice","cartItemsState","cartItem","sum","shippingFee","prices","current","CartOrderContainer","styled","Title","Divider","Content","ContentPlaceholder","PriceField","PriceFieldName","PriceFieldValue","ContentDivider","OrderButton","CartOrder","props","isCartEmpty","useRecoilValue","jsxs","jsx","Fragment"],"mappings":"qQAGA,MAAMA,EAAsBC,EAAS,CACnC,IAAK,sBACL,IAAK,CAAC,CAAE,IAAAC,KAAU,CAGhB,MAAMC,EAFYD,EAAIE,CAAc,EAGjC,OAAQC,GAAa,CAACA,EAAS,kBAAkB,EACjD,OAAO,CAACC,EAAKD,IAAaC,EAAMD,EAAS,SAAWA,EAAS,QAAQ,MAAO,CAAC,EAC1EE,EAAcJ,EAAgB,EAAI,IAAO,EAEzCK,EAAS,CACb,SAAUL,EACV,YAAAI,CAAA,EAGK,MAAA,CACL,GAAGC,EACH,MAAO,OAAO,OAAOA,CAAM,EAAE,OAAO,CAACF,EAAKG,IAAYH,EAAMG,EAAS,CAAC,CAAA,CAE1E,CACF,CAAC,ECnBDC,EAAAC,EAAA;AAAA;AAAA;AAAA,EAKAC,EAAAD,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOAE,EAAAF,EAAA;AAAA;AAAA;AAAA,EAKAG,EAAAH,EAAA;AAAA;AAAA,EAIAI,EAAAJ,EAAA;AAAA;AAAA;AAAA;AAAA,EAMAK,EAAAL,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQAM,EAAAN,EAAA,IAEAO,EAAAP,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQAQ,EAAAR,EAAA;AAAA;AAAA;AAAA;AAAA,EAMAS,EAAAT,EAAA,OAAA,MAAA,CAAA,KAAA,QAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeAU,EAAAC,GAAA,CACE,KAAA,CAAA,YAAAC,CAAA,EAAAD,EACAd,EAAAgB,EAAAxB,CAAA,EAEA,OAAAyB,EAAA,KAAAf,EAAA,CAAA,SAAA,CAEIgB,EAAAA,IAAAd,EAAA,CAAA,SAAA,QAAA,CAAA,EAAac,EAAA,IAAAb,EAAA,EAAA,EACJa,EAAA,IAAAZ,EAAA,CAAA,SAAAS,EAAAE,OAAAE,EAAAA,SAAA,CAAA,SAAA,CAKHD,EAAA,IAAAP,EAAA,EAAA,EAAgBO,EAAAA,IAAAX,EAAA,CAAA,SAAA,iBAAA,CAAA,EACmBW,EAAA,IAAAP,EAAA,EAAA,CACnB,CAAA,CAAA,EAAAM,EAAAA,KAAAE,EAAA,SAAA,CAAA,SAAA,CAIhBF,OAAAT,EAAA,CAAA,SAAA,CACEU,EAAAA,IAAAT,EAAA,CAAA,SAAA,QAAA,CAAA,EAAsBS,EAAAA,IAAAR,EAAA,CAAA,SAAAV,EAAA,QAAA,CAAA,CACY,EAAA,EACpCiB,OAAAT,EAAA,CAAA,SAAA,CAGEU,EAAAA,IAAAT,EAAA,CAAA,SAAA,OAAA,CAAA,EAAqBS,EAAAA,IAAAR,EAAA,CAAA,SAAAV,EAAA,WAAA,CAAA,CACgB,EAAA,EACvCkB,EAAA,IAAAP,EAAA,EAAA,EAEgBM,OAAAT,EAAA,CAAA,SAAA,CAGdU,EAAAA,IAAAT,EAAA,CAAA,SAAA,QAAA,CAAA,EAAsBS,EAAAA,IAAAR,EAAA,CAAA,SAAAV,EAAA,KAAA,CAAA,CACS,EAAA,EACjCkB,EAAA,IAAAP,EAAA,EAAA,EAEgBO,EAAAA,IAAAN,EAAA,CAAA,SAAA,MAAA,CAAA,CAEC,CAAA,CAAA,CAAA,CAAA,CAGvB,CAAA,CAAA,CAGN;;;;;;;;"}