{"version":3,"file":"CartOrder.stories-3da11922.js","sources":["../../src/hooks/useFutureResult.ts","../../src/recoil/queries/ordersQuery.ts","../../src/recoil/user/userRemoteCartItemsState.ts","../../src/utils/Future.ts","../../src/hooks/useMutation.ts","../../src/hooks/useOrderMutation.ts","../../src/recoil/atoms/cartOrderPriceState.ts","../../src/recoil/user/userCartOrderPriceState.ts","../../src/recoil/queries/cartPointsQuery.ts","../../src/recoil/user/userCartPointsState.ts","../../src/components/utils/AwaitRecoilState.tsx","../../src/components/CartOrder.tsx"],"sourcesContent":["import { useMemo, useState } from 'react';\nimport type Future from '../utils/Future';\n\ntype FutureResult<TData> =\n  | {\n      isLoading: false;\n      isFulfilled: false;\n      isError: false;\n    }\n  | {\n      isLoading: true;\n      isFulfilled: false;\n      isError: false;\n    }\n  | {\n      isLoading: false;\n      isFulfilled: true;\n      isError: false;\n      data: TData;\n    }\n  | {\n      isLoading: false;\n      isFulfilled: false;\n      isError: true;\n      error: unknown;\n    };\n\nconst useFutureResult = <TData>(future: Future<TData> | null): FutureResult<TData> => {\n  const [key, setKey] = useState({});\n  const rerender = () => setKey({});\n\n  const result: FutureResult<TData> = useMemo(() => {\n    if (future === null) {\n      return { isLoading: false, isFulfilled: false, isError: false };\n    }\n    try {\n      const data = future.unwrap();\n      return { isLoading: false, isFulfilled: true, isError: false, data };\n    } catch (thrown) {\n      if (thrown instanceof Promise) {\n        thrown.then(rerender).catch(rerender);\n\n        return { isLoading: true, isError: false, isFulfilled: false };\n      }\n      return { isLoading: false, isFulfilled: false, isError: true, error: thrown };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [future, key]);\n\n  return result;\n};\n\nexport default useFutureResult;\n","import { selectorFamily } from 'recoil';\nimport type { Client } from '../../api';\n\ntype OrdersQueryParams = {\n  client: Client;\n};\n\nconst ordersQuery = selectorFamily({\n  key: 'ordersQuery',\n  get:\n    ({ client }: OrdersQueryParams) =>\n    () =>\n      client.get('/orders'),\n});\n\nexport default ordersQuery;\n","import { selector } from 'recoil';\nimport clientState from '../atoms/clientState';\nimport remoteCartItemsState from '../atoms/remoteCartItemsState';\n\nconst userRemoteCartItemsState = selector({\n  key: 'userRemoteCartItemsState',\n  get: ({ get }) => {\n    const client = get(clientState);\n\n    return get(remoteCartItemsState(client));\n  },\n});\n\nexport default userRemoteCartItemsState;\n","const NotExists = Symbol('NotExists');\n\nclass Future<TData, TError = Error> {\n  private promise: Promise<TData>;\n\n  private data: typeof NotExists | TData = NotExists;\n\n  private error: typeof NotExists | TError = NotExists;\n\n  constructor(private readonly fn: () => Promise<TData>) {\n    this.promise = this.fn();\n    this.promise\n      .then((data) => {\n        this.data = data;\n      })\n      .catch((error) => {\n        this.error = error;\n        console.error(error);\n      });\n  }\n\n  toPromise(): Promise<TData> {\n    return this.promise;\n  }\n\n  unwrap(): TData {\n    if (this.error !== NotExists) throw this.error;\n\n    if (this.data === NotExists) throw this.promise;\n\n    return this.data;\n  }\n}\n\nexport default Future;\n","import { useState } from 'react';\nimport Future from '../utils/Future';\n\ntype UseMutationReturn<TParams extends unknown[], TData, TError> = {\n  future: Future<TData, TError> | null;\n  mutate: (...args: TParams) => Promise<TData>;\n};\n\nconst useMutation = <TParams extends unknown[], TData, TError = Error>(\n  mutationFn: (...args: TParams) => Promise<TData>,\n): UseMutationReturn<TParams, TData, TError> => {\n  const [future, setFuture] = useState<Future<TData, TError> | null>(null);\n  const mutate = (...args: TParams): Promise<TData> => {\n    const future = new Future<TData, TError>(() => mutationFn(...args));\n    setFuture(future);\n    return future.toPromise();\n  };\n\n  return {\n    future,\n    mutate,\n  };\n};\n\nexport default useMutation;\n","import { useRecoilRefresher_UNSTABLE as useRecoilRefresher, useRecoilValue } from 'recoil';\nimport clientState from '../recoil/atoms/clientState';\nimport ordersQuery from '../recoil/queries/ordersQuery';\nimport profileQuery from '../recoil/queries/profileQuery';\nimport userCartItemsRepository from '../recoil/user/userCartItemsRepository';\nimport userRemoteCartItemsState from '../recoil/user/userRemoteCartItemsState';\nimport useMutation from './useMutation';\n\ntype UseOrderMutationParams = {\n  usedPoints: number;\n};\n\nconst useOrderMutation = () => {\n  const client = useRecoilValue(clientState);\n  const { cartItems } = useRecoilValue(userRemoteCartItemsState);\n  const { doDownstreamSync } = useRecoilValue(userCartItemsRepository);\n\n  const refreshProfile = useRecoilRefresher(profileQuery({ client }));\n  const refreshOrders = useRecoilRefresher(ordersQuery({ client }));\n\n  const refreshStates = () => {\n    refreshProfile();\n    refreshOrders();\n    doDownstreamSync();\n  };\n\n  const { mutate: order, ...mutationParams } = useMutation(\n    ({ usedPoints }: UseOrderMutationParams) =>\n      client\n        .post('/orders', {\n          usedPoints,\n          cartItems: cartItems\n            .filter((cartItem) => cartItem.checked)\n            .map((cartItem) => ({\n              id: cartItem.id,\n              productId: cartItem.product.id,\n              quantity: cartItem.quantity,\n            })),\n        })\n        .then((response) => Number(response.acceptOrThrow(201).headers.location.split('/').pop()))\n        .finally(refreshStates),\n  );\n\n  return { order, ...mutationParams };\n};\n\nexport default useOrderMutation;\n","import { selectorFamily } from 'recoil';\nimport type { Client } from '../../api';\nimport cartItemsState from './cartItemsState';\n\ntype CartOrderPriceState = {\n  products: number;\n  total: number;\n};\n\nconst cartOrderPriceState = selectorFamily<CartOrderPriceState, Client>({\n  key: 'cartOrderPriceState',\n  get:\n    (client) =>\n    ({ get }) => {\n      const cartItems = get(cartItemsState(client));\n\n      const productsPrice = cartItems\n        .filter((cartItem) => cartItem.checked)\n        .reduce((sum, cartItem) => sum + cartItem.quantity * cartItem.product.price, 0);\n\n      const prices = {\n        products: productsPrice,\n      };\n\n      return {\n        ...prices,\n        total: Object.values(prices).reduce((sum, current) => sum + current, 0),\n      };\n    },\n});\n\nexport default cartOrderPriceState;\n","import { selector } from 'recoil';\nimport cartOrderPriceState from '../atoms/cartOrderPriceState';\nimport clientState from '../atoms/clientState';\n\nconst userCartOrderPriceState = selector({\n  key: 'userCartOrderPriceState',\n  get: ({ get }) => {\n    const client = get(clientState);\n\n    return get(cartOrderPriceState(client));\n  },\n});\n\nexport default userCartOrderPriceState;\n","import { selectorFamily } from 'recoil';\nimport type { Client } from '../../api';\nimport remoteCartItemsState from '../atoms/remoteCartItemsState';\n\ntype CartPointsQueryParams = {\n  client: Client;\n};\n\nconst cartPointsQuery = selectorFamily({\n  key: 'cartPointsQuery',\n  get:\n    ({ client }: CartPointsQueryParams) =>\n    ({ get }) => {\n      get(remoteCartItemsState(client));\n\n      return client.get('/cart-points');\n    },\n});\n\nexport default cartPointsQuery;\n","import { selector } from 'recoil';\nimport type { CartPoints } from '../../types/CartPoints';\nimport clientState from '../atoms/clientState';\nimport cartPointsQuery from '../queries/cartPointsQuery';\n\nconst userCartPointsState = selector<CartPoints>({\n  key: 'userCartPointsState',\n  get: ({ get }) => {\n    const client = get(clientState);\n\n    const response = get(cartPointsQuery({ client }));\n    return response.acceptOrThrow(200).data;\n  },\n});\n\nexport default userCartPointsState;\n","import type { PropsWithChildren } from 'react';\nimport { Suspense, useMemo } from 'react';\nimport type { RecoilValueReadOnly } from 'recoil';\nimport { useRecoilValue } from 'recoil';\n\ntype AwaitRecoilStateLoaderProps<T> = {\n  state: RecoilValueReadOnly<T>;\n  children?: (\n    data: T,\n  ) => PropsWithChildren extends { children?: infer Children } ? Children : never;\n};\n\nconst AwaitRecoilStateLoader = <T,>(props: AwaitRecoilStateLoaderProps<T>) => {\n  const { state, children } = props;\n  const unwrapedState = useRecoilValue(state);\n\n  return children?.(unwrapedState) as React.ReactElement;\n};\n\ntype AwaitRecoilStateProps<T> = {\n  state?: RecoilValueReadOnly<T>;\n  loadingElement?: React.ReactNode;\n  children?: (\n    data: T,\n  ) => PropsWithChildren extends { children?: infer Children } ? Children : never;\n};\n\nconst AwaitRecoilState = <T,>(props: AwaitRecoilStateProps<T>) => {\n  const { loadingElement, state, children } = props;\n\n  // state가 변경되었을 때 새로 렌더링하기 위함\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const key = useMemo(() => Date.now(), [state]);\n\n  return (\n    <Suspense key={key} fallback={loadingElement}>\n      {state && <AwaitRecoilStateLoader state={state}>{children}</AwaitRecoilStateLoader>}\n    </Suspense>\n  );\n};\n\nexport default AwaitRecoilState;\n","import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport { styled } from 'styled-components';\nimport useFutureResult from '../hooks/useFutureResult';\nimport useOrderMutation from '../hooks/useOrderMutation';\nimport userCartOrderPriceState from '../recoil/user/userCartOrderPriceState';\nimport userCartPointsState from '../recoil/user/userCartPointsState';\nimport userProfileState from '../recoil/user/userProfileState';\nimport userRemoteCartItemsState from '../recoil/user/userRemoteCartItemsState';\nimport Button from './common/Button';\nimport PriceFormat from './common/PriceFormat';\nimport Spinner from './common/Spinner';\nimport AwaitRecoilState from './utils/AwaitRecoilState';\n\nconst CartOrderContainer = styled.form`\n  min-width: 440px;\n  border: 1px solid #dddddd;\n`;\n\nconst Title = styled.h1`\n  padding: 20px 30px;\n\n  font-size: 24px;\n  font-weight: 400;\n`;\n\nconst Divider = styled.hr`\n  height: 3px;\n  background-color: #dddddd;\n`;\n\nconst Content = styled.section`\n  display: flex;\n  flex-direction: column;\n\n  padding: 30px;\n`;\n\nconst ContentPlaceholder = styled.h2`\n  font-size: 16px;\n  text-align: center;\n  color: #444444;\n`;\n\nconst PriceField = styled.div`\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nconst PriceFieldName = styled.p``;\n\nconst PriceFieldValue = styled.p`\n  margin-left: auto;\n`;\n\nconst PriceFieldInput = styled.input`\n  max-width: 120px;\n  padding: 8px;\n  border: 1px solid #666666;\n`;\n\nconst PriceFieldCaption = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  white-space: nowrap;\n`;\n\nconst ContentDivider = styled.hr`\n  height: 20px;\n  background: transparent;\n  border: none;\n`;\n\ntype CartOrderProps = {\n  isCartEmpty: boolean;\n  onOrderDone?: (orderId: number) => void;\n};\n\nconst CartOrder = (props: CartOrderProps) => {\n  const navigate = useNavigate();\n  const { isCartEmpty, onOrderDone = (orderId) => navigate(`/orders/${orderId}/done`) } = props;\n\n  const prices = useRecoilValue(userCartOrderPriceState);\n  const { isSynchronizing } = useRecoilValue(userRemoteCartItemsState);\n  const profile = useRecoilValue(userProfileState);\n\n  const { order, future } = useOrderMutation();\n  const orderResult = useFutureResult(future);\n\n  const [inputUsedPoints, setInputUsedPoints] = useState('0');\n  const [rawUsedPoints, setUsedPoints] = useState(0);\n  const maxUsedPoints = Math.min(prices.total, profile.currentPoints);\n  const usedPoints = Math.max(0, Math.min(maxUsedPoints, rawUsedPoints));\n\n  useEffect(() => {\n    setInputUsedPoints(String(usedPoints));\n  }, [usedPoints, prices.total]);\n\n  const handleChangeUsedPoints = (value: string) => {\n    if (!/^\\d+$/.test(value)) {\n      alert('숫자만 입력 가능합니다.');\n      return;\n    }\n    const newUsedPoints = Number(value);\n    if (newUsedPoints < 0 || maxUsedPoints < newUsedPoints) {\n      alert(`최소 0부터 ${maxUsedPoints}까지 사용 가능합니다.`);\n      return;\n    }\n    setUsedPoints(newUsedPoints);\n  };\n\n  const handleSubmitOrder: React.FormEventHandler<HTMLFormElement> = async (event) => {\n    event.preventDefault();\n\n    const orderId = await order({ usedPoints });\n    onOrderDone(orderId);\n  };\n\n  return (\n    <CartOrderContainer onSubmit={handleSubmitOrder}>\n      <Title>결제예상금액</Title>\n      <Divider />\n\n      <Content>\n        {isCartEmpty ? (\n          <>\n            <ContentDivider />\n            <ContentPlaceholder>주문할 상품을 선택해주세요!</ContentPlaceholder>\n            <ContentDivider />\n          </>\n        ) : (\n          <>\n            <PriceField>\n              <PriceFieldName>총 상품가격</PriceFieldName>\n              <PriceFieldValue>\n                <PriceFormat price={prices.products} />\n              </PriceFieldValue>\n            </PriceField>\n\n            <ContentDivider />\n\n            <PriceField>\n              <PriceFieldName>적립 포인트</PriceFieldName>\n\n              <PriceFieldValue>\n                <AwaitRecoilState state={userCartPointsState} loadingElement={<Spinner />}>\n                  {(cartPoints) => (\n                    <>\n                      <PriceFormat price={cartPoints.expectedSavePoints} unit=\"P\" /> (\n                      {cartPoints.savingRate}%)\n                    </>\n                  )}\n                </AwaitRecoilState>\n              </PriceFieldValue>\n            </PriceField>\n\n            <PriceField>\n              <PriceFieldName>\n                사용할 포인트\n                <PriceFieldCaption>\n                  사용가능한 포인트: <PriceFormat price={profile.currentPoints} unit=\"P\" />\n                </PriceFieldCaption>\n              </PriceFieldName>\n              <PriceFieldValue>\n                <PriceFieldInput\n                  value={inputUsedPoints}\n                  onChange={(event) => setInputUsedPoints(event.target.value)}\n                  onKeyDown={(event) => {\n                    if (event.key === 'Enter') {\n                      event.preventDefault();\n                      handleChangeUsedPoints(inputUsedPoints);\n                    }\n                  }}\n                  onBlur={() => {\n                    setInputUsedPoints(String(usedPoints));\n                  }}\n                />{' '}\n                P\n              </PriceFieldValue>\n            </PriceField>\n\n            <ContentDivider />\n\n            <PriceField>\n              <PriceFieldName>총 주문금액</PriceFieldName>\n              <PriceFieldValue>\n                <PriceFormat price={prices.total - usedPoints} />\n              </PriceFieldValue>\n            </PriceField>\n\n            <ContentDivider />\n\n            <Button disabled={orderResult.isLoading || isSynchronizing}>\n              {orderResult.isLoading ? <Spinner /> : '주문하기'}\n            </Button>\n          </>\n        )}\n      </Content>\n    </CartOrderContainer>\n  );\n};\n\nexport default CartOrder;\n"],"names":["useFutureResult","future","key","setKey","useState","rerender","useMemo","thrown","ordersQuery","selectorFamily","client","userRemoteCartItemsState","selector","get","clientState","remoteCartItemsState","NotExists","Future","fn","data","error","useMutation","mutationFn","setFuture","args","useOrderMutation","useRecoilValue","cartItems","doDownstreamSync","userCartItemsRepository","refreshProfile","useRecoilRefresher","profileQuery","refreshOrders","refreshStates","order","mutationParams","usedPoints","cartItem","response","cartOrderPriceState","prices","cartItemsState","sum","current","userCartOrderPriceState","cartPointsQuery","userCartPointsState","AwaitRecoilStateLoader","props","state","children","unwrapedState","AwaitRecoilState","loadingElement","jsx","Suspense","CartOrderContainer","styled","Title","Divider","Content","ContentPlaceholder","PriceField","PriceFieldName","PriceFieldValue","PriceFieldInput","PriceFieldCaption","ContentDivider","CartOrder","navigate","useNavigate","isCartEmpty","onOrderDone","orderId","isSynchronizing","profile","userProfileState","orderResult","inputUsedPoints","setInputUsedPoints","rawUsedPoints","setUsedPoints","maxUsedPoints","useEffect","handleChangeUsedPoints","value","newUsedPoints","handleSubmitOrder","event","jsxs","Fragment","PriceFormat","Spinner","cartPoints","Button"],"mappings":"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"}