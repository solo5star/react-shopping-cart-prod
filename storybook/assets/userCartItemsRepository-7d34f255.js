import{b as p,e as I}from"./environment-eafc0253.js";import{b as s,r as y,a as f}from"./cartItemsState-5a52d14c.js";const C=p({key:"cartItemsRepository",get:o=>({get:a,getCallback:m})=>{const n=a(s(o)),i=a(y(o));return{getCartItems(){return n},getCheckedCartItems(){return n.filter(t=>t.checked)},getCartItemByProductId(t){return n.find(r=>r.product.id===t)??null},addCartItem:m(({set:t})=>r=>{t(s(o),e=>[...e,r])}),addCartItemByProduct:m(({set:t})=>r=>{t(s(o),e=>[...e,{checked:!0,product:r,quantity:1}])}),setQuantity:m(({set:t})=>(r,e)=>{t(s(o),d=>{const u=d.find(c=>c.product.id===r.id)??null;return u===null?[...d,{product:r,quantity:e,checked:!0}]:d.map(c=>c.product.id===u.product.id?{...c,quantity:e}:c)})}),setChecked:m(({set:t})=>(r,e)=>{t(s(o),d=>d.map(u=>u.product.id===r.product.id?{...u,checked:e}:u))}),removeCartItem:m(({set:t})=>r=>{t(s(o),e=>e.filter(d=>d.product.id!==r.product.id))}),removeCartItemByProductId:m(({set:t})=>r=>{t(s(o),e=>e.filter(d=>d.product.id!==r))}),removeCheckedCartItem:m(({set:t})=>()=>{t(s(o),r=>r.filter(e=>!e.checked))}),doDownstreamSync:()=>{i.doDownstreamSync()}}}}),S=I({key:"userCartItemsRepository",get:({get:o})=>{const a=o(f);return o(C(a))}});export{S as u};
//# sourceMappingURL=userCartItemsRepository-7d34f255.js.map
